# Linux操作基础
## 1、ln命令
- 功能：创建链接文件
- 格式：ln [参数]<被链接的文件><链接文件名>
- 参数：

         -s 创建符号链接
         -f 强行创建链接，不管其是否存在
         -i 覆盖原有文件之前先询问用户

- 硬链接

        修改会影响彼此，删除的话不会影响的彼此
        链接文件和被链接文件必须存放在同一个文件系统内
        不能建立指向目录的硬链接
- 软链接

        修改会影响彼此，当删除的是软链接目录下的文件（相当于快捷方式），不会影响其原来创始的文件；当删除的是最初创建它的文件，则会也会删除其链接的文件。
        是指将一个文件指向另一个文件的文件名
        链接文件和被链接文件可以存放在不同一个文件系统内
        可以不用建立指向目录的软链接

## 2、tar
- 基本功能：打包和解包
- 格式：tar [选项] 文件或者目录
- 常用选项

        -c 创建新的打包文件
        -t 列出打包文件的内容，查看已经打包了哪些文件
        -x 从打包文件中释放文件
        -f 指定打包文件名
        -v 详细列出tar处理的文件信息
        -z 用gzip来压缩/接压缩打包文件
        -j 用bzip2来压缩/接压缩打包文件
        -J 用xz来压缩/接压缩打包文件
- 举例

        root.tar      //tar -cvf (压缩后与源文件大小相差不大）
        root.tar.gz      //tar -zcvf 比上面小一半多
## 3、命名别名
- 允许用户按照自己喜欢的方式对命令进行自定义
- 格式

        alias [alias_name='original_command']
- 说明
    - 不带任何参数的alias命令显示当前已定义的所有别名
    - 可以使用unalias alias_name命令取消某个别名的定义
    - 如果用户需要别名的定义在每次登录时均有效，应该将其写入用户自家目录下的.bashrc文件中
    - 若系统中有一个命令，同时又定义了一个与之同名的别名，则别名优先于系统中原有的命令的执行；要想临时使用系统中的命令而非别名，应该在命令前添加"\"字符

## 4、文本文件命令
### 常用命令
<li>
<ul>
cat tac  滚屏显示文本文件内容</ul>
<ul>
more less  分屏显示文本文件内容</ul>
<ul>
head tail  显示文本文件的前或后若干行</ul>
<ul>
cut  纵向切割出文本指定的部分</ul>
<ul>
grep  在文本文件中查找指定的字符串</ul>
</li>

### 命令举例

        more +10 /etc/passwd   从第10行分屏显示文件/etc/passwd的内容
        head -4 [文件名]  显示文件前4行的内容
        tail -4 [文件名] 显示文件后4行的内容
        tail +10 [文件名] 显示文件从第10行开始到文件尾的内容
        tail -f /var/lod/messages 跟踪显示不断增长的文件结尾内容（通常用于显示日志文件）
### grep简介
    是一个强大的文本搜索工具。grep使用正则表达式搜索文本，并把匹配的行打印出来
    格式：grep [options] PATTERN [FILE...]
    命令选项:
        -c 只显示匹配行的次数
        -i 搜索时不区分大小写
        -n 输出匹配行的行号
        -v 输出不匹配的行号
        -r 对目录(子目录)的所有文件递归的进行


## 5、sed
- sed介绍

        sed可删除(delete)、改变(change)、添加(append)、插入(insert)、合并、交换文件中的资料行,或读入其它档的资料到文>件中,也可替换(substuite)它们其中的字串、或转换(tranfer)其中的字母等等。
        (1)sed总是以行对输入进行处理
        (2)sed处理的不是原文件而是原文件的拷贝
        sed是一个流编辑器，是一个非交互式的行编辑器，输入文件可以是指定的文件名，也可以来自一个管道的输出
- sed工作方式

        sed以按顺序逐行的方式工作，过称为：
        1）从输入读取一行数据存入临时缓冲区，此缓冲区称为模式空间
        2）按指定的sed编辑命令处理缓冲区中的内容
        3）把模式空间的内容送往屏幕并将这行内容从模式空间删除
        4）读取下面一行，重复上面的过程直到全部处理结束
- sed命令
    - 格式
            
             sed [选项] [-e] cmd1 [[-e cmd2]....[-e cmdn]] [input-file]...
    - 说明
       
            可以指定多个编辑命令，每个编辑命令前都要用-e参数，若只有一个编辑指令，-e可以省略
            每个sed的编辑命令cmdX均用单引号括起来
            input-file：sed处理的文件列表，若省略，sed将从标准输入中读取输入，也可以从输入重定向或管道获取输入
    - 选项

            -r  使用扩展正则表达式进行模式匹配
            -i  直接对输入文件进行sed的命令操作
            -d  删除资料
    - 举例
               
             sed -e 'n,md' file  删除第n行到第m行
             sed -e '1,$d' file  删除第一行到最后一行
             sed -e '/xx/!d' file 删除除含有字符串xx的所有行
             sed -e '10,/word1/d' file 删除文件中从第10行到含有word1的行
## 6、awk
    最基本的功能就是在文件或者字符串中基于指定规则浏览和抽取信息，awk抽取信息后，才能进行其他文本操作。完整的awk脚本通常用来格式化文本文件中的信息。
    通常，awk是以文件的一行为处理单位的。awk每接受文件的一行，然后执行相应的命令，来处理文本。

    echo $0   //表示命令本身-bash
    awk '{print $0}' /etc/password  //其输出和cat结果是一样的
    awk -F “:”'{print $1 $3}' /etc/password 
    [root@wangge ~]# awk -F ":" '{if(NR>=5 && NR<=9) print "name="$1" ,shell="$7}' /etc/passwd//输出第5~9行的用户名和shell信息
    行：记录
    列：字段
## 7、Linux基本权限
    r--读
    w--写
    x--执行
    '-' --没有权限
- 文件/目录的权限
1-->文件的类型
2-4 -->文件所属用户的权限 user
5-7 -->文件所属组的权限  group
8-10 -->其他用户的权限 other
### 与权限相关的命令
- chmod
    改变文件或目录的权限
    命令：
   
        chmod 777 test //设置文件权限（8进制）
        getfacl test/  //查看权限
        chmod o+x test //给其他用户添加执行权限
        chmod -R 777 home/ //将home文件夹的权限设为777
         注：-R表示对目录中的所有文件或子目录进行递归操作

- chown
    改变文件或目录的属主（所有者）
        
        chown eagle test//将test文件所属的主改为eagle
- chgrp
    改变文件或目录所属的组
    
        chgrp eagle test//将test文件所属的组改为eagle 
- umask

        设置文件的缺省生成掩码
        新建目录的访问权限最大为777，新建文件的访问权限最大为666      
        umask -S 022 work //设置work目录下所要新建文件的权限
- 特殊权限

        setfacl -m u:xiaohong:rx,u:xiaozhang:rx,o::r-- showip //对于showip文件，小红小张可读可执行，其他用户只可读，确保了安全性
## 8、磁盘分析工具
        fdisk -l
        df -h